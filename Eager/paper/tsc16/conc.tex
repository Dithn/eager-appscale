As the paradigm of cloud computing grows in popularity, the need for monitoring cloud-hosted 
applications is becoming critical. Application developers and cloud administrators
wish to detect performance anomalies in cloud applications, and
perform root cause analysis to diagnose problems. However, the high level of abstraction provided by cloud
platforms, coupled with their scale and complexity, makes performance diagnosis
a daunting problem. This situation is particularly apparent in
PaaS clouds, where the application runtime details are hidden beneath a layer of curated services.
%The existing cloud monitoring solutions do not have the necessary penetrative power
%to monitor all the different layers of such cloud platforms.%, and consequently, their diagnosis
%capabilities are severely limited.

In this paper, we present Roots, an efficient and accurate 
monitoring framework for applications deployed in a PaaS cloud. 
Roots is designed to function as a curated service
built into the cloud platform. 
It relieves the application developers from having to configure
their own monitoring solutions, or having to instrument the application code in anyway.
Roots captures runtime data from all the different layers involved
in processing application requests. It correlates events across different PaaS layers and
identifies bottlenecks across the PaaS stack.

Roots monitors applications for compliance with service level objectives (SLOs) and detects anomalies via SLO violations.
When Roots detects an anomaly, 
it analyzes workload data and other application runtime data
to perform root cause analysis. Roots is able to determine whether a particular
anomaly was caused by a change in the application workload (request volume and pattern), or due to a bottleneck
in the cloud platform. 
Our workload change point detection algorithm
distinguishes between different paths
of execution though an application.  Our bottleneck identification algorithm
uses a combination of linear regression, quantile analysis, 
and change point detection to identify the PaaS service that is 
the most likely cause of the performance degradation. 

We evaluate Roots using a prototype built for the AppScale PaaS. 
Our results indicate that Roots is effective at detecting 
workload changes and performance bottlenecks within 5 
minutes from when they start and introduces no false positives.
Our empirical trials also show that the mean latency of the 
PaaS platform with Roots is within one standard deviation of the mean
latency of the cloud platform without Roots, for the workloads we studied. 

In our future work, we plan to expand the data 
gathering capabilities of Roots into
the low level virtual machines and containers that host various services of the cloud
platform. We intend to tap into the hypervisors
and container managers to harvest runtime data regarding the resource usage (CPU, memory, disk etc.) of
PaaS services and other application components. With that we expect to extend
the root cause analysis support of Roots so that it can not only pinpoint the
bottlenecked application components, but also the low level hosts and system
resources that constitute each bottleneck.

Finally, we acknowledge and thank our research supporters.  This work is funded in part by NSF (CCF-1539586, ACI- 1541215, CNS-1218808, CNS-0905237, ACI-0751315), NIH (1R01EB014877-01), ONR NEEC (N00174-16-C-0020), Huawei Technologies, and the California Energy Commission (PON- 14-304).
